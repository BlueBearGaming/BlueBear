imports:
    - { resource: managers.yml }
    - { resource: forms.yml }

parameters:
    # unit factory
    bluebear.game.unit_factory: BlueBear\GameBundle\Factory\UnitFactory
    # events subscribers
    bluebear.engine.event.mapitem_subscriber: BlueBear\GameBundle\Event\MapItem\MapItemSubscriber
    bluebear.engine.event.unit_subscriber: BlueBear\GameBundle\Event\Unit\UnitSubscriber

services:
    # factory
    bluebear.game.unit_factory:
        class: %bluebear.game.unit_factory%
        calls:
            - [setContainer, [@service_container]]
            - [setEntityTypes, [%bluebear.game.entity_type%, %bluebear.game.attribute%]]

    # events subscribers
    bluebear.engine.event.mapitem_subscriber:
        class: %bluebear.engine.event.mapitem_subscriber%
        tags:
            - {name: kernel.event_subscriber}
        calls:
            - [setContainer, [@service_container]]

    bluebear.engine.event.unit_subscriber:
        class: %bluebear.engine.event.unit_subscriber%
        tags:
            - {name: kernel.event_subscriber}
        calls:
            - [setContainer, [@service_container]]
