character_class:
    class: BlueBear\DungeonBundle\Entity\CharacterClass\CharacterClass
    data:
        barbarian:
            label: bluebear.dungeon.barbarian
            description: bluebear.dungeon.barbarian.description
            attributeSetters:
                - hitPoints ={2d6+4}
            skills: [acrobatics, climb, craft, handle_animal, intimidate, knowledge_nature, perception, ride, survival, swim]
            allowedArmors: [common, war, light, medium, shields]
            feats:
                barbarian.fast_movement:
                    trigger: permanent
                    category: extraordinary
                    condition: NOT character.hasEquipmentType("heavy_armor") AND character.load != "heavy"
                    attributeModifiers:
                        - speed +3
                barbarian.berserk_rage:
                    trigger: action
                    category: extraordinary
                    condition:
                    attributeModifiers:
                barbarian.uncanny_dodge:
                    label: Uncanny Dodge
                    category: extraordinary
                    condition: character.level >= 2
                barbarian.trap_sense:
                    trigger: save.reflex
                    label: Trap Sense
                    category: extraordinary
                    condition: character.level >= 3 AND event.source.type = "trap"
                    attributeModifiers:
                        - reflex +1
                        - dodge +1
                barbarian.improved_uncanny_dodge:
                    label: Improved Uncanny Dodge
                    category: extraordinary
                    condition: character.level >= 5
                    replace: [barbarian.uncanny_dodge]
                barbarian.damage_reduction:
                    label: Damage Reduction
                    category: extraordinary
                    condition:
                        - {property: level, equals: 8, type: match_one}
                barbarian.greater_rage:
                    label: Greater Rage
                    category: extraordinary
                    condition:
                        - {property: level, equals: 11, type: match_one}
                        - {property: status, equals: rage, type: match_one}
                    attributeModifiers:
                        - strength +6
                        - constitution +6
                        - will +3
                    replace: [barbarian.berserk_rage]
                barbarian.indomitable_will:
                    label: Indomitable Will
                    category: extraordinary
                    condition: character.level >= 14 AND "rage" IN character.status
                    attributeModifiers:
                        - 'will +4'
                barbarian.tireless_rage:
                    label: Tireless Rage
                    category: extraordinary
                    condition: 'character.level >= 17'
                barbarian.mighty_rage:
                    label: Mighty Rage
                    category: extraordinary
                    condition: 'character.level >= 17'
                    replace: [barbarian.berserk_rage, barbarian.greater_rage]
        monk:
            label: bluebear.dungeon.monk
            description: bluebear.dungeon.monk.description
            attributeModifiers:
                - hitPoints ={1d12+2}
        sorcerer:
            label: bluebear.dungeon.sorcerer
            description: bluebear.dungeon.sorcerer.description
            attributeModifiers:
                - hitPoints ={1d12}

skill:
    class: BlueBear\DungeonBundle\Entity\Skill
    data:
        acrobatics:
            attribute: dexterity
        climb:
            attribute: strength
        craft:
            attribute: intelligence
        handle_animal:
            attribute: charisma
        intimidate:
            attribute: charisma
        knowledge_nature:
            attribute: intelligence
        perception:
            attribute: wisdom
        ride:
            attribute: dexterity
        survival:
            attribute: wisdom
        swim:
            attribute: strength

feats:
    class: BlueBear\DungeonBundle\Entity\Feat

